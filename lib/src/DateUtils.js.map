{"version":3,"sources":["../../src/DateUtils.js"],"names":["clone","addMonths","isSameDay","isDayBefore","isDayAfter","isPastDay","isFutureDay","isDayBetween","addDayToRange","isDayInRange","getWeekNumber","d","Date","getTime","n","newDate","setMonth","getMonth","d1","d2","getDate","getFullYear","day1","setHours","day2","today","tomorrow","date","day","range","from","to","setDate","getDay","Math","ceil"],"mappings":"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","file":"DateUtils.js","sourcesContent":["/**\r\n * Clone a date object.\r\n *\r\n * @export\r\n * @param  {Date} d The date to clone\r\n * @return {Date} The cloned date\r\n */\r\nexport function clone(d) {\r\n  return new Date(d.getTime());\r\n}\r\n\r\n/**\r\n * Return `d` as a new date with `n` months added.\r\n * \r\n * @export\r\n * @param {[type]} d\r\n * @param {[type]} n\r\n */\r\nexport function addMonths(d, n) {\r\n  const newDate = clone(d);\r\n  newDate.setMonth(d.getMonth() + n);\r\n  return newDate;\r\n}\r\n\r\n/**\r\n * Return `true` if two dates are the same day, ignoring the time.\r\n *\r\n * @export\r\n * @param  {Date}  d1\r\n * @param  {Date}  d2\r\n * @return {Boolean}\r\n */\r\nexport function isSameDay(d1, d2) {\r\n  if (!d1 || !d2) {\r\n    return false;\r\n  }\r\n  return (\r\n    d1.getDate() === d2.getDate() &&\r\n    d1.getMonth() === d2.getMonth() &&\r\n    d1.getFullYear() === d2.getFullYear()\r\n  );\r\n}\r\n\r\n/**\r\n * Returns `true` if the first day is before the second day.\r\n * \r\n * @export\r\n * @param {Date} d1 \r\n * @param {Date} d2 \r\n * @returns {Boolean}\r\n */\r\nexport function isDayBefore(d1, d2) {\r\n  const day1 = clone(d1).setHours(0, 0, 0, 0);\r\n  const day2 = clone(d2).setHours(0, 0, 0, 0);\r\n  return day1 < day2;\r\n}\r\n\r\n/**\r\n * Returns `true` if the first day is after the second day.\r\n * \r\n * @export\r\n * @param {Date} d1 \r\n * @param {Date} d2 \r\n * @returns {Boolean}\r\n */\r\nexport function isDayAfter(d1, d2) {\r\n  const day1 = clone(d1).setHours(0, 0, 0, 0);\r\n  const day2 = clone(d2).setHours(0, 0, 0, 0);\r\n  return day1 > day2;\r\n}\r\n\r\n/**\r\n * Return `true` if a day is in the past, e.g. yesterday or any day\r\n * before yesterday.\r\n *\r\n * @export\r\n * @param  {Date}  d\r\n * @return {Boolean}\r\n */\r\nexport function isPastDay(d) {\r\n  const today = new Date();\r\n  today.setHours(0, 0, 0, 0);\r\n  return isDayBefore(d, today);\r\n}\r\n\r\n/**\r\n * Return `true` if a day is in the future, e.g. tomorrow or any day\r\n * after tomorrow.\r\n *\r\n * @export\r\n * @param  {Date}  d\r\n * @return {Boolean}\r\n */\r\nexport function isFutureDay(d) {\r\n  const tomorrow = new Date(new Date().getTime() + 24 * 60 * 60 * 1000);\r\n  tomorrow.setHours(0, 0, 0, 0);\r\n  return d >= tomorrow;\r\n}\r\n\r\n/**\r\n * Return `true` if day `d` is between days `d1` and `d2`,\r\n * without including them.\r\n *\r\n * @export\r\n * @param  {Date}  d\r\n * @param  {Date}  d1\r\n * @param  {Date}  d2\r\n * @return {Boolean}\r\n */\r\nexport function isDayBetween(d, d1, d2) {\r\n  const date = clone(d);\r\n  date.setHours(0, 0, 0, 0);\r\n  return (\r\n    (isDayAfter(date, d1) && isDayBefore(date, d2)) ||\r\n    (isDayAfter(date, d2) && isDayBefore(date, d1))\r\n  );\r\n}\r\n\r\n/**\r\n * Add a day to a range and return a new range. A range is an object with\r\n * `from` and `to` days.\r\n *\r\n * @export\r\n * @param {Date} day\r\n * @param {Object} range\r\n * @return {Object} Returns a new range object\r\n */\r\nexport function addDayToRange(day, range = { from: null, to: null }) {\r\n  let { from, to } = range;\r\n  if (!from) {\r\n    from = day;\r\n  } else if (from && to && isSameDay(from, to) && isSameDay(day, from)) {\r\n    from = null;\r\n    to = null;\r\n  } else if (to && isDayBefore(day, from)) {\r\n    from = day;\r\n  } else if (to && isSameDay(day, to)) {\r\n    from = day;\r\n    to = day;\r\n  } else {\r\n    to = day;\r\n    if (isDayBefore(to, from)) {\r\n      to = from;\r\n      from = day;\r\n    }\r\n  }\r\n\r\n  return { from, to };\r\n}\r\n\r\n/**\r\n * Return `true` if a day is included in a range of days.\r\n *\r\n * @export\r\n * @param  {Date}  day\r\n * @param  {Object}  range\r\n * @return {Boolean}\r\n */\r\nexport function isDayInRange(day, range) {\r\n  const { from, to } = range;\r\n  return (\r\n    (from && isSameDay(day, from)) ||\r\n    (to && isSameDay(day, to)) ||\r\n    (from && to && isDayBetween(day, from, to))\r\n  );\r\n}\r\n\r\n/**\r\n * Return the year's week number (as per ISO, i.e. with the week starting from monday)\r\n * for the given day.\r\n * \r\n * @export\r\n * @param {Date} day \r\n * @returns {Number}\r\n */\r\nexport function getWeekNumber(day) {\r\n  const date = clone(day);\r\n  date.setHours(0, 0, 0);\r\n  date.setDate(date.getDate() + 4 - (date.getDay() || 7));\r\n  return Math.ceil(\r\n    ((date - new Date(date.getFullYear(), 0, 1)) / 8.64e7 + 1) / 7\r\n  );\r\n}\r\n\r\nexport default {\r\n  addDayToRange,\r\n  addMonths,\r\n  clone,\r\n  getWeekNumber,\r\n  isDayAfter,\r\n  isDayBefore,\r\n  isDayBetween,\r\n  isDayInRange,\r\n  isFutureDay,\r\n  isPastDay,\r\n  isSameDay,\r\n};\r\n"]}