{"version":3,"sources":["../../src/Month.js"],"names":["ModifiersUtils","Helpers","DateUtils","Month","renderDay","monthNumber","props","month","getMonth","propModifiers","getModifiersFromProps","dayModifiers","getModifiersForDay","day","isSameDay","Date","Object","prototype","hasOwnProperty","call","classNames","today","push","outside","isOutside","tabIndex","onDayClick","getDate","key","getFullYear","modifiers","forEach","modifier","modifiersStyles","enableOutsideDays","fixedWeeks","localeUtils","formatDay","locale","indexOf","onDayFocus","onDayKeyDown","onDayMouseEnter","onDayMouseLeave","onDayMouseDown","onDayMouseUp","onDayTouchEnd","onDayTouchStart","months","weekdayElement","weekdaysLong","weekdaysShort","firstDayOfWeek","onCaptionClick","footer","showWeekNumbers","onWeekClick","captionProps","date","onClick","e","undefined","weeks","getWeekArray","body","map","weekNumber","getWeekNumber","week","getTime","propTypes","shape","string","isRequired","number","instanceOf","arrayOf","object","bool","func","oneOfType","element","Component","node"],"mappings":"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","file":"Month.js","sourcesContent":["import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport Weekdays from './Weekdays';\r\nimport Day from './Day';\r\n\r\nimport * as ModifiersUtils from './ModifiersUtils';\r\nimport * as Helpers from './Helpers';\r\nimport * as DateUtils from './DateUtils';\r\n\r\nexport default class Month extends Component {\r\n  static propTypes = {\r\n    classNames: PropTypes.shape({\r\n      body: PropTypes.string.isRequired,\r\n      month: PropTypes.string.isRequired,\r\n      outside: PropTypes.string.isRequired,\r\n      today: PropTypes.string.isRequired,\r\n      week: PropTypes.string.isRequired,\r\n    }).isRequired,\r\n    tabIndex: PropTypes.number,\r\n\r\n    month: PropTypes.instanceOf(Date).isRequired,\r\n    months: PropTypes.arrayOf(PropTypes.string),\r\n\r\n    modifiersStyles: PropTypes.object,\r\n\r\n    enableOutsideDays: PropTypes.bool,\r\n\r\n    renderDay: PropTypes.func.isRequired,\r\n\r\n    // captionElement: PropTypes.oneOfType([\r\n    //   PropTypes.element,\r\n    //   PropTypes.func,\r\n    //   PropTypes.instanceOf(React.Component),\r\n    // ]).isRequired,\r\n    weekdayElement: PropTypes.oneOfType([\r\n      PropTypes.element,\r\n      PropTypes.func,\r\n      PropTypes.instanceOf(React.Component),\r\n    ]),\r\n\r\n    footer: PropTypes.node,\r\n    fixedWeeks: PropTypes.bool,\r\n    showWeekNumbers: PropTypes.bool,\r\n\r\n    locale: PropTypes.string.isRequired,\r\n    localeUtils: PropTypes.object.isRequired,\r\n    weekdaysLong: PropTypes.arrayOf(PropTypes.string),\r\n    weekdaysShort: PropTypes.arrayOf(PropTypes.string),\r\n    firstDayOfWeek: PropTypes.number.isRequired,\r\n\r\n    onCaptionClick: PropTypes.func,\r\n    onDayClick: PropTypes.func,\r\n    onDayFocus: PropTypes.func,\r\n    onDayKeyDown: PropTypes.func,\r\n    onDayMouseEnter: PropTypes.func,\r\n    onDayMouseLeave: PropTypes.func,\r\n    onDayMouseDown: PropTypes.func,\r\n    onDayMouseUp: PropTypes.func,\r\n    onDayTouchEnd: PropTypes.func,\r\n    onDayTouchStart: PropTypes.func,\r\n    onWeekClick: PropTypes.func,\r\n  };\r\n\r\n  renderDay = day => {\r\n    const monthNumber = this.props.month.getMonth();\r\n    const propModifiers = Helpers.getModifiersFromProps(this.props);\r\n    const dayModifiers = ModifiersUtils.getModifiersForDay(day, propModifiers);\r\n    if (\r\n      DateUtils.isSameDay(day, new Date()) &&\r\n      !Object.prototype.hasOwnProperty.call(\r\n        propModifiers,\r\n        this.props.classNames.today\r\n      )\r\n    ) {\r\n      dayModifiers.push(this.props.classNames.today);\r\n    }\r\n    if (day.getMonth() !== monthNumber) {\r\n      dayModifiers.push(this.props.classNames.outside);\r\n    }\r\n\r\n    const isOutside = day.getMonth() !== monthNumber;\r\n    let tabIndex = -1;\r\n    // Focus on the first day of the month\r\n    if (this.props.onDayClick && !isOutside && day.getDate() === 1) {\r\n      tabIndex = this.props.tabIndex;\r\n    }\r\n    const key = `${day.getFullYear()}${day.getMonth()}${day.getDate()}`;\r\n    const modifiers = {};\r\n    dayModifiers.forEach(modifier => {\r\n      modifiers[modifier] = true;\r\n    });\r\n\r\n    return (\r\n      <Day\r\n        key={`${isOutside ? 'outside-' : ''}${key}`}\r\n        classNames={this.props.classNames}\r\n        day={day}\r\n        modifiers={modifiers}\r\n        modifiersStyles={this.props.modifiersStyles}\r\n        empty={\r\n          isOutside && !this.props.enableOutsideDays && !this.props.fixedWeeks\r\n        }\r\n        tabIndex={tabIndex}\r\n        ariaLabel={this.props.localeUtils.formatDay(day, this.props.locale)}\r\n        ariaDisabled={isOutside || dayModifiers.indexOf('disabled') > -1}\r\n        ariaSelected={dayModifiers.indexOf('selected') > -1}\r\n        onClick={this.props.onDayClick}\r\n        onFocus={this.props.onDayFocus}\r\n        onKeyDown={this.props.onDayKeyDown}\r\n        onMouseEnter={this.props.onDayMouseEnter}\r\n        onMouseLeave={this.props.onDayMouseLeave}\r\n        onMouseDown={this.props.onDayMouseDown}\r\n        onMouseUp={this.props.onDayMouseUp}\r\n        onTouchEnd={this.props.onDayTouchEnd}\r\n        onTouchStart={this.props.onDayTouchStart}\r\n      >\r\n        {this.props.renderDay(day, modifiers)}\r\n      </Day>\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const {\r\n      classNames,\r\n\r\n      month,\r\n      months,\r\n\r\n      fixedWeeks,\r\n      // captionElement,\r\n      weekdayElement,\r\n\r\n      locale,\r\n      localeUtils,\r\n      weekdaysLong,\r\n      weekdaysShort,\r\n      firstDayOfWeek,\r\n\r\n      onCaptionClick,\r\n\r\n      footer,\r\n      showWeekNumbers,\r\n      onWeekClick,\r\n    } = this.props;\r\n\r\n    const captionProps = {\r\n      date: month,\r\n      classNames,\r\n      months,\r\n      localeUtils,\r\n      locale,\r\n      onClick: onCaptionClick ? e => onCaptionClick(month, e) : undefined,\r\n    };\r\n    // const caption = React.isValidElement(captionElement)\r\n    //   ? React.cloneElement(captionElement, captionProps)\r\n    //   : React.createElement(captionElement, captionProps);\r\n\r\n    const weeks = Helpers.getWeekArray(month, firstDayOfWeek, fixedWeeks);\r\n\r\n    return (\r\n      <div className={classNames.month} role=\"grid\">\r\n        {/*{caption}*/}\r\n        <Weekdays\r\n          classNames={classNames}\r\n          weekdaysShort={weekdaysShort}\r\n          weekdaysLong={weekdaysLong}\r\n          firstDayOfWeek={firstDayOfWeek}\r\n          showWeekNumbers={showWeekNumbers}\r\n          locale={locale}\r\n          localeUtils={localeUtils}\r\n          weekdayElement={weekdayElement}\r\n        />\r\n        <div className={classNames.body} role=\"rowgroup\">\r\n          {weeks.map(week => {\r\n            let weekNumber;\r\n            if (showWeekNumbers) {\r\n              weekNumber = DateUtils.getWeekNumber(week[0]);\r\n            }\r\n            return (\r\n              <div\r\n                key={week[0].getTime()}\r\n                className={classNames.week}\r\n                role=\"row\"\r\n              >\r\n                {showWeekNumbers &&\r\n                  <div\r\n                    className={classNames.weekNumber}\r\n                    tabIndex={0}\r\n                    role=\"gridcell\"\r\n                    onClick={e => onWeekClick(weekNumber, week, e)}\r\n                  >\r\n                    {weekNumber}\r\n                  </div>}\r\n                {week.map(this.renderDay)}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        {footer &&\r\n          <div className={classNames.footer}>\r\n            {footer}\r\n          </div>}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}