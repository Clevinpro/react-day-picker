{"version":3,"sources":["../../src/DayPickerInput.js"],"names":["HIDE_TIMEOUT","getStateFromProps","props","month","value","m","format","isValid","toDate","dayPickerProps","initialMonth","Date","DayPickerInput","input","daypicker","clickedInside","clickTimeout","hideTimeout","hideAfterDayClick","hideOnDayClick","setTimeout","hideDayPicker","handleContainerMouseDown","handleClick","showDayPicker","onClick","e","persist","handleFocus","onFocus","handleBlur","setState","showOverlay","focus","onBlur","handleChange","target","onDayChange","onChange","trim","undefined","day","modifiersObj","disabled","disabledDays","selected","selectedDays","modifiers","reduce","obj","modifier","newObj","handleOnKeyUp","keyCode","onKeyUp","handleDayClick","onDayClick","clickUnselectsDay","state","nextProps","hasDifferentValue","shouldDisplayAnotherMonth","getFullYear","getMonth","clearTimeout","selectedDay","classNames","overlayWrapper","overlay","el","inputProps","component","container","createElement","ref","renderOverlay","Component","defaultProps","propTypes","string","oneOfType","arrayOf","isRequired","object","bool","any","shape","func"],"mappings":"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","file":"DayPickerInput.js","sourcesContent":["import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport moment from 'moment'; // eslint-disable-line import/no-extraneous-dependencies\r\n\r\nimport DayPicker from './DayPicker';\r\nimport { getModifiersForDay } from './ModifiersUtils';\r\nimport { ESC } from './keys';\r\n\r\nexport const HIDE_TIMEOUT = 100;\r\n\r\nfunction getStateFromProps(props) {\r\n  let month;\r\n  if (props.value) {\r\n    const m = moment(props.value, props.format, true);\r\n    if (m.isValid()) {\r\n      month = m.toDate();\r\n    }\r\n  } else {\r\n    month =\r\n      props.dayPickerProps.initialMonth ||\r\n      props.dayPickerProps.month ||\r\n      new Date();\r\n  }\r\n\r\n  return {\r\n    value: props.value,\r\n    month,\r\n  };\r\n}\r\n\r\nexport default class DayPickerInput extends React.Component {\r\n  static propTypes = {\r\n    // eslint-disable-next-line react/no-unused-prop-types\r\n    value: PropTypes.string,\r\n\r\n    format: PropTypes.oneOfType([\r\n      PropTypes.arrayOf(PropTypes.string),\r\n      PropTypes.string,\r\n    ]).isRequired,\r\n\r\n    dayPickerProps: PropTypes.object,\r\n    hideOnDayClick: PropTypes.bool,\r\n    clickUnselectsDay: PropTypes.bool,\r\n    component: PropTypes.any,\r\n\r\n    classNames: PropTypes.shape({\r\n      container: PropTypes.string,\r\n      overlayWrapper: PropTypes.string,\r\n      overlay: PropTypes.string.isRequired,\r\n    }),\r\n\r\n    onDayChange: PropTypes.func,\r\n    onChange: PropTypes.func,\r\n    onClick: PropTypes.func,\r\n    onFocus: PropTypes.func,\r\n    onBlur: PropTypes.func,\r\n    onKeyUp: PropTypes.func,\r\n  };\r\n\r\n  static defaultProps = {\r\n    dayPickerProps: {},\r\n    value: '',\r\n    format: 'L',\r\n    hideOnDayClick: true,\r\n    clickUnselectsDay: false,\r\n    component: 'input',\r\n    classNames: {\r\n      container: 'DayPickerInput',\r\n      overlayWrapper: 'DayPickerInput-OverlayWrapper',\r\n      overlay: 'DayPickerInput-Overlay',\r\n    },\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = getStateFromProps(props);\r\n    this.state.showOverlay = false;\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    const { month, value } = this.state;\r\n    const hasDifferentValue = nextProps.value !== value;\r\n\r\n    const shouldDisplayAnotherMonth =\r\n      nextProps.dayPickerProps &&\r\n      nextProps.dayPickerProps.month &&\r\n      (nextProps.dayPickerProps.month.getFullYear() !== month.getFullYear() ||\r\n        nextProps.dayPickerProps.month.getMonth() !== month.getMonth());\r\n\r\n    if (hasDifferentValue && !shouldDisplayAnotherMonth) {\r\n      this.setState(getStateFromProps(nextProps));\r\n    } else if (shouldDisplayAnotherMonth) {\r\n      this.setState({\r\n        month: nextProps.dayPickerProps.month,\r\n      });\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    clearTimeout(this.clickTimeout);\r\n    clearTimeout(this.hideTimeout);\r\n  }\r\n\r\n  input = null;\r\n  daypicker = null;\r\n  clickedInside = false;\r\n  clickTimeout = null;\r\n  hideTimeout = null;\r\n\r\n  showDayPicker() {\r\n    this.setState({\r\n      showOverlay: true,\r\n    });\r\n  }\r\n\r\n  hideDayPicker() {\r\n    this.setState({\r\n      showOverlay: false,\r\n    });\r\n  }\r\n\r\n  hideAfterDayClick = () => {\r\n    if (!this.props.hideOnDayClick) {\r\n      return;\r\n    }\r\n    this.hideTimeout = setTimeout(\r\n      () => this.hideDayPicker(),\r\n      HIDE_TIMEOUT // give a timeout to show the clicked day\r\n    );\r\n  };\r\n\r\n  handleContainerMouseDown = () => {\r\n    this.clickedInside = true;\r\n    // The input's onBlur method is called from a queue right after onMouseDown event.\r\n    // setTimeout adds another callback in the queue, but is called later than onBlur event\r\n    this.clickTimeout = setTimeout(() => {\r\n      this.clickedInside = false;\r\n    }, 0);\r\n  };\r\n\r\n  handleClick = e => {\r\n    this.showDayPicker();\r\n    if (this.props.onClick) {\r\n      e.persist();\r\n      this.props.onClick(e);\r\n    }\r\n  };\r\n\r\n  handleFocus = e => {\r\n    this.showDayPicker();\r\n    if (this.props.onFocus) {\r\n      e.persist();\r\n      this.props.onFocus(e);\r\n    }\r\n  };\r\n\r\n  handleBlur = e => {\r\n    this.setState({\r\n      showOverlay: this.clickedInside,\r\n    });\r\n\r\n    // Force input's focus if blur event was caused\r\n    // by clicking inside the overlay\r\n    if (this.clickedInside) {\r\n      this.input.focus();\r\n    }\r\n\r\n    if (this.props.onBlur) {\r\n      e.persist();\r\n      this.props.onBlur(e);\r\n    }\r\n  };\r\n\r\n  handleChange = e => {\r\n    const { value } = e.target;\r\n    const { format, dayPickerProps, onDayChange, onChange } = this.props;\r\n    const m = moment(value, format, true);\r\n\r\n    if (onChange) {\r\n      e.persist();\r\n      onChange(e);\r\n    }\r\n\r\n    if (value.trim() === '') {\r\n      this.setState({ value });\r\n      if (this.props.onDayChange) {\r\n        this.props.onDayChange(undefined, {});\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (!m.isValid()) {\r\n      this.setState({ value });\r\n      return;\r\n    }\r\n\r\n    const day = m.toDate();\r\n    this.setState({ month: day, value }, () => {\r\n      if (!onDayChange) {\r\n        return;\r\n      }\r\n      const modifiersObj = {\r\n        disabled: dayPickerProps.disabledDays,\r\n        selected: dayPickerProps.selectedDays,\r\n        ...dayPickerProps.modifiers,\r\n      };\r\n      const modifiers = getModifiersForDay(\r\n        day,\r\n        modifiersObj\r\n      ).reduce((obj, modifier) => {\r\n        const newObj = { ...obj };\r\n        newObj[modifier] = true;\r\n        return newObj;\r\n      }, {});\r\n      this.props.onDayChange(m, modifiers);\r\n    });\r\n  };\r\n\r\n  handleOnKeyUp = e => {\r\n    this.setState({\r\n      showOverlay: e.keyCode !== ESC,\r\n    });\r\n    if (this.props.onKeyUp) {\r\n      e.persist();\r\n      this.props.onKeyUp(e);\r\n    }\r\n  };\r\n\r\n  handleDayClick = (day, modifiers, e) => {\r\n    if (this.props.dayPickerProps.onDayClick) {\r\n      this.props.dayPickerProps.onDayClick(day, modifiers, e);\r\n    }\r\n\r\n    if (modifiers.disabled) {\r\n      // Do nothing if the day is disabled\r\n      return;\r\n    }\r\n    if (modifiers.selected && this.props.clickUnselectsDay) {\r\n      // Unselect the day\r\n      this.setState({ value: '' }, this.hideAfterDayClick);\r\n      if (this.props.onDayChange) {\r\n        this.props.onDayChange(undefined, modifiers);\r\n      }\r\n      return;\r\n    }\r\n\r\n    const m = moment(day);\r\n    this.setState({ value: m.format(this.props.format), month: day }, () => {\r\n      if (this.props.onDayChange) {\r\n        this.props.onDayChange(m, modifiers);\r\n      }\r\n      this.hideAfterDayClick();\r\n    });\r\n  };\r\n\r\n  renderOverlay() {\r\n    let selectedDay;\r\n    if (this.state.value) {\r\n      const m = moment(this.state.value, this.props.format, true);\r\n      if (m.isValid()) {\r\n        selectedDay = m.toDate();\r\n      }\r\n    }\r\n\r\n    return (\r\n      <div className={this.props.classNames.overlayWrapper}>\r\n        <div className={this.props.classNames.overlay}>\r\n          <DayPicker\r\n            ref={el => (this.daypicker = el)}\r\n            fixedWeeks\r\n            {...this.props.dayPickerProps}\r\n            month={this.state.month}\r\n            selectedDays={selectedDay}\r\n            onDayClick={this.handleDayClick}\r\n            numberOfMonths={1}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render() {\r\n    const inputProps = { ...this.props };\r\n    delete inputProps.component;\r\n    delete inputProps.dayPickerProps;\r\n    delete inputProps.format;\r\n    delete inputProps.clickUnselectsDay;\r\n    delete inputProps.hideOnDayClick;\r\n    delete inputProps.onDayChange;\r\n    delete inputProps.classNames;\r\n    return (\r\n      <div\r\n        className={this.props.classNames.container}\r\n        onMouseDown={this.handleContainerMouseDown}\r\n      >\r\n        {React.createElement(this.props.component, {\r\n          ref: el => (this.input = el),\r\n          ...inputProps,\r\n          value: this.state.value,\r\n          onChange: this.handleChange,\r\n          onFocus: this.handleFocus,\r\n          onBlur: this.handleBlur,\r\n          onKeyUp: this.handleOnKeyUp,\r\n          onClick: this.handleClick,\r\n        })}\r\n        {this.state.showOverlay && this.renderOverlay()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]}